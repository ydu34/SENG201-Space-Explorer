<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>SelectPilotWindow.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">space-explorer (23/05/2019 9:13:26 PM)</a> &gt; <a href="../../index.html" class="el_group">space-explorer</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">views</a> &gt; <span class="el_source">SelectPilotWindow.java</span></div><h1>SelectPilotWindow.java</h1><pre class="source lang-java linenums">package views;

import java.awt.Color;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTextArea;
import javax.swing.SwingConstants;
import javax.swing.UIManager;
import javax.swing.border.CompoundBorder;
import javax.swing.border.EmptyBorder;
import javax.swing.border.TitledBorder;

import main.CrewMember;
import main.GameEnvironment;
import javax.swing.JSeparator;

/**
 * Represents a window that allows players to select the pilots.
 * 
 * @author Yu Duan
 * @author Joyce Cheah
 */
public class SelectPilotWindow {

	private JFrame frame;
	private GameEnvironment game;
	private CrewMember pilot1;
	private CrewMember pilot2;
	private JButton btnSelectPlanet;

	/**
	 * Creates the window application.
	 * 
	 * @param incomingGame A GameEnvironment containing all the contents of the
	 *                     game.
	 */
<span class="nc" id="L45">	public SelectPilotWindow(GameEnvironment incomingGame) {</span>
<span class="nc" id="L46">		game = incomingGame;</span>
<span class="nc" id="L47">		initialize();</span>
<span class="nc" id="L48">		frame.setVisible(true);</span>
<span class="nc" id="L49">	}</span>

	/**
	 * Closes the window.
	 */
	public void closeWindow() {
<span class="nc" id="L55">		frame.dispose();</span>
<span class="nc" id="L56">	}</span>

	/**
	 * Calls the close window method in game environment.
	 */
	public void finishedWindow() {
<span class="nc" id="L62">		game.closeSelectPilotWindow(this);</span>
<span class="nc" id="L63">	}</span>

	/**
	 * Initializes the contents of the frame. This includes a panel displaying the
	 * cost of piloting the ship to the crew members, two combo boxes to select main
	 * pilot and co-pilot, a panel to display the selected crew member's details,
	 * and buttons to proceed selecting a new planet or return to actions window.
	 */
	private void initialize() {
<span class="nc" id="L72">		frame = new JFrame();</span>
<span class="nc" id="L73">		frame.setResizable(false);</span>
<span class="nc" id="L74">		frame.setBounds(100, 100, 800, 600);</span>
<span class="nc" id="L75">		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span>
<span class="nc" id="L76">		frame.getContentPane().setLayout(null);</span>

<span class="nc" id="L78">		JComboBox comboBoxPilot2 = new JComboBox(game.getCrew().getCrewMembers().toArray());</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">		for (int i = 0; (comboBoxPilot2.getSelectedItem() == game.getChosenCrewMember()); i++) {</span>
<span class="nc" id="L80">			comboBoxPilot2.setSelectedIndex(i);</span>
		}

<span class="nc" id="L83">		JComboBox comboBoxPilot1 = new JComboBox(game.getCrew().getCrewMembers().toArray());</span>

		// The two selected pilots initially set.
<span class="nc" id="L86">		pilot1 = game.getChosenCrewMember();</span>
<span class="nc" id="L87">		pilot2 = (CrewMember) comboBoxPilot2.getSelectedItem();</span>
<span class="nc" id="L88">		game.setChosenCrewMember(pilot1);</span>
<span class="nc" id="L89">		game.setOtherChosenCrewMember(pilot2);</span>

<span class="nc" id="L91">		JTextArea textAreaPilotInfo = new JTextArea();</span>
<span class="nc" id="L92">		textAreaPilotInfo.setBackground(UIManager.getColor(&quot;Menu.background&quot;));</span>
<span class="nc" id="L93">		textAreaPilotInfo.setBorder(new CompoundBorder(new TitledBorder(UIManager.getBorder(&quot;TitledBorder.border&quot;), &quot;&quot;,</span>
<span class="nc" id="L94">				TitledBorder.LEADING, TitledBorder.TOP, null, new Color(0, 0, 0)), new EmptyBorder(10, 10, 10, 10)));</span>
<span class="nc" id="L95">		String info = pilotInfo(pilot1, pilot2);</span>
<span class="nc" id="L96">		textAreaPilotInfo.setText(info);</span>
<span class="nc" id="L97">		textAreaPilotInfo.setFont(new Font(&quot;Monospaced&quot;, Font.PLAIN, 15));</span>
<span class="nc" id="L98">		textAreaPilotInfo.setWrapStyleWord(true);</span>
<span class="nc" id="L99">		textAreaPilotInfo.setLineWrap(true);</span>
<span class="nc" id="L100">		textAreaPilotInfo.setEditable(false);</span>
<span class="nc" id="L101">		textAreaPilotInfo.setBounds(50, 85, 296, 398);</span>
<span class="nc" id="L102">		frame.getContentPane().add(textAreaPilotInfo);</span>

<span class="nc" id="L104">		comboBoxPilot1.setSelectedItem(game.getChosenCrewMember());</span>
<span class="nc" id="L105">		comboBoxPilot1.setBounds(510, 86, 235, 22);</span>
<span class="nc" id="L106">		frame.getContentPane().add(comboBoxPilot1);</span>
<span class="nc" id="L107">		comboBoxPilot2.setBounds(510, 112, 235, 22);</span>
<span class="nc" id="L108">		frame.getContentPane().add(comboBoxPilot2);</span>

<span class="nc" id="L110">		JButton btnReturn = new JButton(&quot;Return &quot;);</span>
<span class="nc" id="L111">		btnReturn.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent e) {
<span class="nc" id="L113">				finishedWindow();</span>
<span class="nc" id="L114">				game.launchCrewMemberWindow();</span>
<span class="nc" id="L115">			}</span>
		});
<span class="nc" id="L117">		btnReturn.setBounds(50, 515, 97, 25);</span>
<span class="nc" id="L118">		frame.getContentPane().add(btnReturn);</span>

<span class="nc" id="L120">		JPanel panelCrewMemberInfo = new JPanel();</span>
<span class="nc" id="L121">		panelCrewMemberInfo.setLayout(null);</span>
<span class="nc" id="L122">		panelCrewMemberInfo.setBorder(new TitledBorder(null, &quot;&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));</span>
<span class="nc" id="L123">		panelCrewMemberInfo.setBounds(385, 141, 360, 343);</span>
<span class="nc" id="L124">		frame.getContentPane().add(panelCrewMemberInfo);</span>

<span class="nc" id="L126">		JLabel lblName = new JLabel(&quot;Name:&quot;);</span>
<span class="nc" id="L127">		lblName.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L128">		lblName.setBounds(9, 11, 78, 32);</span>
<span class="nc" id="L129">		panelCrewMemberInfo.add(lblName);</span>

<span class="nc" id="L131">		JLabel lblTrait = new JLabel(&quot;Trait:&quot;);</span>
<span class="nc" id="L132">		lblTrait.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L133">		lblTrait.setBounds(9, 54, 78, 32);</span>
<span class="nc" id="L134">		panelCrewMemberInfo.add(lblTrait);</span>

<span class="nc" id="L136">		JLabel lblHealth = new JLabel(&quot;Health:&quot;);</span>
<span class="nc" id="L137">		lblHealth.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L138">		lblHealth.setBounds(9, 140, 78, 32);</span>
<span class="nc" id="L139">		panelCrewMemberInfo.add(lblHealth);</span>

<span class="nc" id="L141">		JLabel lblHunger = new JLabel(&quot;Hunger:\r\n&quot;);</span>
<span class="nc" id="L142">		lblHunger.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L143">		lblHunger.setBounds(9, 183, 78, 32);</span>
<span class="nc" id="L144">		panelCrewMemberInfo.add(lblHunger);</span>

<span class="nc" id="L146">		JLabel lblFatigue = new JLabel(&quot;Fatigue:&quot;);</span>
<span class="nc" id="L147">		lblFatigue.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L148">		lblFatigue.setBounds(183, 140, 78, 32);</span>
<span class="nc" id="L149">		panelCrewMemberInfo.add(lblFatigue);</span>

<span class="nc" id="L151">		JTextArea textArea = new JTextArea(pilot1.description());</span>
<span class="nc" id="L152">		textArea.setBackground(UIManager.getColor(&quot;Menu.background&quot;));</span>
<span class="nc" id="L153">		textArea.setWrapStyleWord(true);</span>
<span class="nc" id="L154">		textArea.setLineWrap(true);</span>
<span class="nc" id="L155">		textArea.setFont(new Font(&quot;Monospaced&quot;, Font.PLAIN, 15));</span>
<span class="nc" id="L156">		textArea.setEditable(false);</span>
<span class="nc" id="L157">		textArea.setBounds(9, 226, 337, 102);</span>
<span class="nc" id="L158">		panelCrewMemberInfo.add(textArea);</span>

<span class="nc" id="L160">		JLabel lblHealthValue = new JLabel(pilot1.getHealth() + &quot;/&quot; + pilot1.getMaxHealth());</span>
<span class="nc" id="L161">		lblHealthValue.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L162">		lblHealthValue.setBounds(96, 140, 78, 32);</span>
<span class="nc" id="L163">		panelCrewMemberInfo.add(lblHealthValue);</span>

<span class="nc" id="L165">		JLabel lblHungerValue = new JLabel(pilot1.getHunger() + &quot;/&quot; + pilot1.getMaxHunger());</span>
<span class="nc" id="L166">		lblHungerValue.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L167">		lblHungerValue.setBounds(96, 183, 78, 32);</span>
<span class="nc" id="L168">		panelCrewMemberInfo.add(lblHungerValue);</span>

<span class="nc" id="L170">		JLabel lblFatigueValue = new JLabel(pilot1.getFatigue() + &quot;/&quot; + pilot1.getMaxFatigue());</span>
<span class="nc" id="L171">		lblFatigueValue.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L172">		lblFatigueValue.setBounds(270, 140, 78, 32);</span>
<span class="nc" id="L173">		panelCrewMemberInfo.add(lblFatigueValue);</span>

<span class="nc" id="L175">		JLabel lblTraitValue = new JLabel(pilot1.getType());</span>
<span class="nc" id="L176">		lblTraitValue.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L177">		lblTraitValue.setBounds(96, 54, 250, 32);</span>
<span class="nc" id="L178">		panelCrewMemberInfo.add(lblTraitValue);</span>

<span class="nc" id="L180">		JLabel lblNameValue = new JLabel(pilot1.getName());</span>
<span class="nc" id="L181">		lblNameValue.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L182">		lblNameValue.setBounds(96, 11, 250, 32);</span>
<span class="nc" id="L183">		panelCrewMemberInfo.add(lblNameValue);</span>

<span class="nc" id="L185">		JLabel lblStatusValue = new JLabel(pilot1.getStatus());</span>
<span class="nc" id="L186">		lblStatusValue.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L187">		lblStatusValue.setBounds(96, 97, 250, 32);</span>
<span class="nc" id="L188">		panelCrewMemberInfo.add(lblStatusValue);</span>

<span class="nc" id="L190">		JLabel lblActions = new JLabel(&quot;Actions&quot;);</span>
<span class="nc" id="L191">		lblActions.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L192">		lblActions.setBounds(183, 183, 78, 32);</span>
<span class="nc" id="L193">		panelCrewMemberInfo.add(lblActions);</span>

<span class="nc" id="L195">		JLabel lblActionsValue = new JLabel(pilot1.getActionsLeft() + &quot;/&quot; + pilot1.getMaxActions());</span>
<span class="nc" id="L196">		lblActionsValue.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L197">		lblActionsValue.setBounds(270, 183, 78, 32);</span>
<span class="nc" id="L198">		panelCrewMemberInfo.add(lblActionsValue);</span>

<span class="nc" id="L200">		JLabel label_13 = new JLabel(&quot;Status:&quot;);</span>
<span class="nc" id="L201">		label_13.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L202">		label_13.setBounds(9, 97, 78, 32);</span>
<span class="nc" id="L203">		panelCrewMemberInfo.add(label_13);</span>

<span class="nc" id="L205">		JLabel lblPilot2 = new JLabel(&quot;Pilot 2:&quot;);</span>
<span class="nc" id="L206">		lblPilot2.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L207">		lblPilot2.setBounds(395, 115, 93, 22);</span>
<span class="nc" id="L208">		frame.getContentPane().add(lblPilot2);</span>

<span class="nc" id="L210">		JLabel lblPilot1 = new JLabel(&quot;Pilot 1:&quot;);</span>
<span class="nc" id="L211">		lblPilot1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L212">		lblPilot1.setBounds(395, 85, 93, 22);</span>
<span class="nc" id="L213">		frame.getContentPane().add(lblPilot1);</span>

<span class="nc" id="L215">		JLabel lblPreparationToTravel = new JLabel(&quot;Preparation to travel!&quot;);</span>
<span class="nc" id="L216">		lblPreparationToTravel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 30));</span>
<span class="nc" id="L217">		lblPreparationToTravel.setHorizontalAlignment(SwingConstants.CENTER);</span>
<span class="nc" id="L218">		lblPreparationToTravel.setBounds(0, 0, 794, 71);</span>
<span class="nc" id="L219">		frame.getContentPane().add(lblPreparationToTravel);</span>

<span class="nc" id="L221">		JButton btnSelectPlanet_1 = new JButton(&quot;Select Planet&quot;);</span>
<span class="nc" id="L222">		btnSelectPlanet_1.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent e) {
<span class="nc bnc" id="L224" title="All 4 branches missed.">				if (pilot2.canPilot() &amp;&amp; pilot1.canPilot()) {</span>
<span class="nc" id="L225">					game.setChosenCrewMember(pilot1);</span>
<span class="nc" id="L226">					game.setOtherChosenCrewMember(pilot2);</span>
<span class="nc" id="L227">					finishedWindow();</span>
<span class="nc" id="L228">					game.launchSelectPlanetWindow();</span>
<span class="nc bnc" id="L229" title="All 4 branches missed.">				} else if (!(pilot1.canPilot()) &amp;&amp; !(pilot2.canPilot())) {</span>
<span class="nc" id="L230">					String message = pilot1 + &quot; and &quot; + pilot2</span>
<span class="nc" id="L231">							+ &quot; does not have the required actions, fatigue, or hunger to pilot!&quot;;</span>
<span class="nc" id="L232">					JOptionPane.showMessageDialog(frame, message);</span>
<span class="nc bnc" id="L233" title="All 2 branches missed.">				} else if (!(pilot2.canPilot())) {</span>
<span class="nc" id="L234">					String message = pilot2 + &quot; does not have the required actions, fatigue, or hunger to pilot!&quot;;</span>
<span class="nc" id="L235">					JOptionPane.showMessageDialog(frame, message);</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">				} else if (!(pilot1.canPilot())) {</span>
<span class="nc" id="L237">					String message = pilot1 + &quot; does not have the required actions, fatigue, or hunger to pilot!&quot;;</span>
<span class="nc" id="L238">					JOptionPane.showMessageDialog(frame, message);</span>
				}
<span class="nc" id="L240">			}</span>
		});
<span class="nc" id="L242">		btnSelectPlanet_1.setBounds(580, 515, 165, 25);</span>
<span class="nc" id="L243">		frame.getContentPane().add(btnSelectPlanet_1);</span>
		
<span class="nc" id="L245">		JSeparator separatorTop = new JSeparator();</span>
<span class="nc" id="L246">		separatorTop.setBounds(50, 62, 695, 2);</span>
<span class="nc" id="L247">		frame.getContentPane().add(separatorTop);</span>
		
<span class="nc" id="L249">		JSeparator separator = new JSeparator();</span>
<span class="nc" id="L250">		separator.setBounds(50, 503, 695, 2);</span>
<span class="nc" id="L251">		frame.getContentPane().add(separator);</span>

		// combo box 1 action listener for pilot 1
<span class="nc" id="L254">		comboBoxPilot1.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent e) {
<span class="nc" id="L256">				pilot1 = (CrewMember) comboBoxPilot1.getSelectedItem();</span>
<span class="nc" id="L257">				lblNameValue.setText(pilot1.getName());</span>
<span class="nc" id="L258">				lblTraitValue.setText(pilot1.getType());</span>
<span class="nc" id="L259">				lblHealthValue.setText(pilot1.getHealth() + &quot;/&quot; + pilot1.getMaxHealth());</span>
<span class="nc" id="L260">				lblHungerValue.setText(pilot1.getHunger() + &quot;/&quot; + pilot1.getMaxHunger());</span>
<span class="nc" id="L261">				lblFatigueValue.setText(pilot1.getFatigue() + &quot;/&quot; + pilot1.getMaxFatigue());</span>
<span class="nc" id="L262">				lblActionsValue.setText(pilot1.getActionsLeft() + &quot;/&quot; + pilot1.getMaxActions());</span>
<span class="nc" id="L263">				lblStatusValue.setText(pilot1.getStatus());</span>
<span class="nc" id="L264">				textArea.setText(pilot1.description());</span>
<span class="nc bnc" id="L265" title="All 2 branches missed.">				if (pilot1.equals(pilot2)) {</span>
<span class="nc" id="L266">					btnSelectPlanet_1.setEnabled(false);</span>
<span class="nc" id="L267">				} else {</span>
<span class="nc" id="L268">					btnSelectPlanet_1.setEnabled(true);</span>
				}
<span class="nc" id="L270">				String info = pilotInfo(pilot1, pilot2);</span>
<span class="nc" id="L271">				textAreaPilotInfo.setText(info);</span>
<span class="nc" id="L272">			}</span>
		});

		// combo box 2 action listener for pilot 2
<span class="nc" id="L276">		comboBoxPilot2.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent e) {
<span class="nc" id="L278">				pilot2 = (CrewMember) comboBoxPilot2.getSelectedItem();</span>
<span class="nc" id="L279">				lblNameValue.setText(pilot2.getName());</span>
<span class="nc" id="L280">				lblTraitValue.setText(pilot2.getType());</span>
<span class="nc" id="L281">				lblHealthValue.setText(pilot2.getHealth() + &quot;/&quot; + pilot2.getMaxHealth());</span>
<span class="nc" id="L282">				lblHungerValue.setText(pilot2.getHunger() + &quot;/&quot; + pilot2.getMaxHunger());</span>
<span class="nc" id="L283">				lblFatigueValue.setText(pilot2.getFatigue() + &quot;/&quot; + pilot2.getMaxFatigue());</span>
<span class="nc" id="L284">				lblActionsValue.setText(pilot2.getActionsLeft() + &quot;/&quot; + pilot2.getMaxActions());</span>
<span class="nc" id="L285">				lblStatusValue.setText(pilot2.getStatus());</span>
<span class="nc" id="L286">				textArea.setText(pilot2.description());</span>
<span class="nc bnc" id="L287" title="All 2 branches missed.">				if (pilot1.equals(pilot2)) {</span>
<span class="nc" id="L288">					btnSelectPlanet_1.setEnabled(false);</span>
<span class="nc" id="L289">				} else {</span>
<span class="nc" id="L290">					btnSelectPlanet_1.setEnabled(true);</span>
				}
<span class="nc" id="L292">				String info = pilotInfo(pilot1, pilot2);</span>
<span class="nc" id="L293">				textAreaPilotInfo.setText(info);</span>
<span class="nc" id="L294">			}</span>
		});
<span class="nc" id="L296">	}</span>

	/**
	 * Creates the display text of the conditions and costs to pilot.
	 * 
	 * @param pilot1 A CrewMember that is the first pilot.
	 * @param pilot2 A CrewMember that is the second pilot.
	 * @return Information on the requirements of piloting the ship.
	 */
	public String pilotInfo(CrewMember pilot1, CrewMember pilot2) {
		String info;
<span class="nc bnc" id="L307" title="All 2 branches missed.">		if (pilot1.equals(pilot2)) {</span>
<span class="nc" id="L308">			info = &quot;The two crew members can not be the same.&quot;;</span>
<span class="nc" id="L309">		} else {</span>
<span class="nc" id="L310">			info = &quot;Traveling to another planet requires two crew members to pilot the ship. &quot;</span>
<span class="nc" id="L311">					+ &quot;\n\nBoth crew members must have 1 action remaining to pilot.\n\n&quot; + pilot1</span>
<span class="nc" id="L312">					+ &quot;'s fatigue will increase by &quot; + pilot1.getPilotFatigueCost() + &quot; and hunger will increase by &quot;</span>
<span class="nc" id="L313">					+ pilot1.getPilotHungerCost() + &quot;.\n\n&quot; + pilot2 + &quot;'s fatigue will increase by &quot;</span>
<span class="nc" id="L314">					+ pilot2.getPilotFatigueCost() + &quot; and hunger will increase by &quot; + pilot2.getPilotHungerCost();</span>
		}
<span class="nc" id="L316">		return info;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span>space-explorer (23/05/2019 9:13:26 PM)</div></body></html>