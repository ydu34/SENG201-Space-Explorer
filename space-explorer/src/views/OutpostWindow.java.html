<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>OutpostWindow.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">space-explorer (23/05/2019 9:13:26 PM)</a> &gt; <a href="../../index.html" class="el_group">space-explorer</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">views</a> &gt; <span class="el_source">OutpostWindow.java</span></div><h1>OutpostWindow.java</h1><pre class="source lang-java linenums">package views;

import java.awt.Color;
import java.awt.Font;
import java.awt.SystemColor;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.Map;
import java.util.TreeSet;

import javax.swing.DefaultListModel;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JSeparator;
import javax.swing.JTextArea;
import javax.swing.SwingConstants;
import javax.swing.UIManager;
import javax.swing.border.CompoundBorder;
import javax.swing.border.EmptyBorder;
import javax.swing.border.TitledBorder;
import javax.swing.event.ListSelectionEvent;
import javax.swing.event.ListSelectionListener;

import main.FoodItem;
import main.GameEnvironment;
import main.Item;
import main.MedicalItem;
import main.SpaceOutpost;

/**
 * The window that allows the player to view the items available in the outpost
 * and purchase the items. This window also contains a button that leads to the
 * player's inventory.
 * 
 * @author Yu Duan
 * @author Joyce Cheah
 */
public class OutpostWindow {

	private JFrame frame;
	private GameEnvironment game;
<span class="nc" id="L51">	private int totalCost = 0;</span>
	private Item currentItem;

	/**
	 * Creates the window application.
	 * 
	 * @param incomingGame A GameEnvironment containing all the contents of the
	 *                     game.
	 */
<span class="nc" id="L60">	public OutpostWindow(GameEnvironment incomingGame) {</span>
<span class="nc" id="L61">		game = incomingGame;</span>
<span class="nc" id="L62">		initialize();</span>
<span class="nc" id="L63">		frame.setVisible(true);</span>
<span class="nc" id="L64">	}</span>

	/**
	 * Closes the window.
	 */
	public void closeWindow() {
<span class="nc" id="L70">		frame.dispose();</span>
<span class="nc" id="L71">	}</span>

	/**
	 * Calls the close window method in game environment.
	 */
	public void finishedWindow() {
<span class="nc" id="L77">		game.closeOutpostWindow(this);</span>
<span class="nc" id="L78">	}</span>

	/**
	 * Initializes the contents of the frame. This includes a combo box of items
	 * available to purchase, display of total cost and coins available, a cart list
	 * of items selected, a panel displaying the selected item details, buttons to
	 * purchase, add to cart, remove from cart, view inventory, and return to ship.
	 */
	private void initialize() {
<span class="nc" id="L87">		OutpostWindow window = this;</span>
<span class="nc" id="L88">		frame = new JFrame();</span>
<span class="nc" id="L89">		frame.setResizable(false);</span>
<span class="nc" id="L90">		frame.setTitle(&quot;SPACE EXPLORERS&quot;);</span>
<span class="nc" id="L91">		frame.setBounds(100, 100, 800, 600);</span>
<span class="nc" id="L92">		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span>
<span class="nc" id="L93">		frame.getContentPane().setLayout(null);</span>

<span class="nc" id="L95">		JLabel lblCoins = new JLabel(&quot;Coins Available:&quot;);</span>
<span class="nc" id="L96">		lblCoins.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L97">		lblCoins.setBounds(410, 450, 152, 33);</span>
<span class="nc" id="L98">		frame.getContentPane().add(lblCoins);</span>

		// Create an array list to combine both the food items and the medical items to
		// outpost items
<span class="nc" id="L102">		ArrayList&lt;Item&gt; outpostItems = new ArrayList&lt;Item&gt;();</span>
<span class="nc" id="L103">		outpostItems.addAll(game.getCrew().getCurrentLocation().getOutpost().getFoodItems());</span>
<span class="nc" id="L104">		outpostItems.addAll(game.getCrew().getCurrentLocation().getOutpost().getMedicalItems());</span>

		// Create an array list and get the unique outpost items, so each item only
		// appears once in the list.
<span class="nc" id="L108">		ArrayList&lt;Item&gt; uniqueOutpostItems = new ArrayList&lt;Item&gt;(new TreeSet&lt;Item&gt;(outpostItems));</span>

		// Use a hash map to store the item and the frequency of the item.
<span class="nc" id="L111">		Map&lt;Item, Integer&gt; itemFrequency = new HashMap&lt;Item, Integer&gt;();</span>
<span class="nc bnc" id="L112" title="All 2 branches missed.">		for (Item item : uniqueOutpostItems) {</span>
<span class="nc" id="L113">			itemFrequency.put(item, Collections.frequency(outpostItems, item));</span>
		}

<span class="nc" id="L116">		JComboBox comboBoxItems = new JComboBox(uniqueOutpostItems.toArray());</span>
<span class="nc" id="L117">		comboBoxItems.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 16));</span>
		// The current item that is selected by the player in the combo box
<span class="nc" id="L119">		currentItem = (Item) comboBoxItems.getSelectedItem();</span>
<span class="nc" id="L120">		comboBoxItems.setBounds(50, 121, 290, 30);</span>
<span class="nc" id="L121">		frame.getContentPane().add(comboBoxItems);</span>

<span class="nc" id="L123">		JButton btnInventory = new JButton(&quot;View Inventory&quot;);</span>
<span class="nc" id="L124">		btnInventory.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent e) {
<span class="nc" id="L126">				finishedWindow();</span>
<span class="nc" id="L127">				game.launchInventoryWindow();</span>
<span class="nc" id="L128">			}</span>
		});
<span class="nc" id="L130">		btnInventory.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L131">		btnInventory.setBounds(555, 515, 190, 25);</span>
<span class="nc" id="L132">		frame.getContentPane().add(btnInventory);</span>

<span class="nc" id="L134">		JLabel lblSeeItems = new JLabel(&quot;See what is for sale!&quot;);</span>
<span class="nc" id="L135">		lblSeeItems.setHorizontalAlignment(SwingConstants.CENTER);</span>
<span class="nc" id="L136">		lblSeeItems.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 20));</span>
<span class="nc" id="L137">		lblSeeItems.setBounds(50, 86, 290, 30);</span>
<span class="nc" id="L138">		frame.getContentPane().add(lblSeeItems);</span>

<span class="nc" id="L140">		JPanel panelItemInfo = new JPanel();</span>
<span class="nc" id="L141">		panelItemInfo.setBorder(new TitledBorder(null, &quot;&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));</span>
<span class="nc" id="L142">		panelItemInfo.setBounds(407, 97, 338, 310);</span>
<span class="nc" id="L143">		frame.getContentPane().add(panelItemInfo);</span>
<span class="nc" id="L144">		panelItemInfo.setLayout(null);</span>

<span class="nc" id="L146">		JTextArea descriptionArea = new JTextArea(currentItem.getDescription());</span>
<span class="nc" id="L147">		descriptionArea.setBackground(UIManager.getColor(&quot;Menu.background&quot;));</span>
<span class="nc" id="L148">		descriptionArea.setEditable(false);</span>
<span class="nc" id="L149">		descriptionArea.setLineWrap(true);</span>
<span class="nc" id="L150">		descriptionArea.setWrapStyleWord(true);</span>
<span class="nc" id="L151">		descriptionArea.setFont(new Font(&quot;Monospaced&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L152">		descriptionArea.setBounds(35, 197, 273, 52);</span>
<span class="nc" id="L153">		panelItemInfo.add(descriptionArea);</span>

<span class="nc" id="L155">		JLabel lblStock = new JLabel(&quot;Stock:&quot;);</span>
<span class="nc" id="L156">		lblStock.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L157">		lblStock.setBounds(35, 129, 68, 22);</span>
<span class="nc" id="L158">		panelItemInfo.add(lblStock);</span>

<span class="nc" id="L160">		JLabel lblItemInfo = new JLabel(&quot;About this item&quot;);</span>
<span class="nc" id="L161">		lblItemInfo.setHorizontalAlignment(SwingConstants.CENTER);</span>
<span class="nc" id="L162">		lblItemInfo.setBounds(0, 0, 340, 50);</span>
<span class="nc" id="L163">		lblItemInfo.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 20));</span>
<span class="nc" id="L164">		panelItemInfo.add(lblItemInfo);</span>

<span class="nc" id="L166">		JLabel lblName = new JLabel(&quot;Name:&quot;);</span>
<span class="nc" id="L167">		lblName.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L168">		lblName.setBounds(35, 61, 68, 22);</span>
<span class="nc" id="L169">		panelItemInfo.add(lblName);</span>

<span class="nc" id="L171">		JButton btnAddCart = new JButton(&quot;Add to Cart&quot;);</span>

<span class="nc" id="L173">		btnAddCart.setBounds(35, 271, 273, 25);</span>
<span class="nc" id="L174">		panelItemInfo.add(btnAddCart);</span>
<span class="nc" id="L175">		btnAddCart.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>

<span class="nc" id="L177">		JLabel lblItemName = new JLabel(&quot;&quot;);</span>
<span class="nc" id="L178">		lblItemName.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L179">		lblItemName.setBounds(114, 61, 194, 22);</span>
<span class="nc" id="L180">		lblItemName.setText(currentItem.getName());</span>
<span class="nc" id="L181">		panelItemInfo.add(lblItemName);</span>

<span class="nc" id="L183">		JLabel lblItemCount = new JLabel(&quot;&quot;);</span>
<span class="nc" id="L184">		lblItemCount.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L185">		lblItemCount.setBounds(114, 129, 194, 22);</span>
<span class="nc" id="L186">		lblItemCount.setText(Integer.toString(itemFrequency.get(currentItem)));</span>
<span class="nc" id="L187">		panelItemInfo.add(lblItemCount);</span>

<span class="nc" id="L189">		JLabel lblPrice = new JLabel(&quot;Price:&quot;);</span>
<span class="nc" id="L190">		lblPrice.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L191">		lblPrice.setBounds(35, 95, 68, 22);</span>
<span class="nc" id="L192">		panelItemInfo.add(lblPrice);</span>

<span class="nc" id="L194">		JLabel lblItemPrice = new JLabel(&quot;&quot;);</span>
<span class="nc" id="L195">		lblItemPrice.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L196">		lblItemPrice.setBounds(114, 95, 194, 22);</span>
<span class="nc" id="L197">		lblItemPrice.setText(Integer.toString(currentItem.getPrice()));</span>
<span class="nc" id="L198">		panelItemInfo.add(lblItemPrice);</span>

<span class="nc" id="L200">		JLabel lblDescription = new JLabel(&quot;Description:&quot;);</span>
<span class="nc" id="L201">		lblDescription.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L202">		lblDescription.setBounds(35, 163, 134, 22);</span>
<span class="nc" id="L203">		panelItemInfo.add(lblDescription);</span>

<span class="nc" id="L205">		JSeparator separatorInfoTop = new JSeparator();</span>
<span class="nc" id="L206">		separatorInfoTop.setBounds(22, 51, 300, 2);</span>
<span class="nc" id="L207">		panelItemInfo.add(separatorInfoTop);</span>

<span class="nc" id="L209">		JSeparator separatorInfoBottom = new JSeparator();</span>
<span class="nc" id="L210">		separatorInfoBottom.setBounds(22, 257, 300, 2);</span>
<span class="nc" id="L211">		panelItemInfo.add(separatorInfoBottom);</span>

<span class="nc" id="L213">		JButton btnBackToShip = new JButton(&quot;Return to ship&quot;);</span>
<span class="nc" id="L214">		btnBackToShip.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent e) {
<span class="nc" id="L216">				finishedWindow();</span>
<span class="nc" id="L217">				game.launchMainWindow();</span>
<span class="nc" id="L218">			}</span>
		});
<span class="nc" id="L220">		btnBackToShip.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L221">		btnBackToShip.setBounds(50, 515, 190, 25);</span>
<span class="nc" id="L222">		frame.getContentPane().add(btnBackToShip);</span>

<span class="nc" id="L224">		JLabel lblTitle = new JLabel();</span>
<span class="nc" id="L225">		lblTitle.setHorizontalAlignment(SwingConstants.CENTER);</span>
<span class="nc" id="L226">		lblTitle.setText(&quot;Welcome to &quot; + game.getCrew().getCurrentLocation() + &quot; space outpost!&quot;);</span>
<span class="nc" id="L227">		lblTitle.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 30));</span>
<span class="nc" id="L228">		lblTitle.setBounds(0, 0, 795, 60);</span>
<span class="nc" id="L229">		frame.getContentPane().add(lblTitle);</span>

<span class="nc" id="L231">		JButton btnPurchase = new JButton(&quot;PURCHASE&quot;);</span>
<span class="nc" id="L232">		btnPurchase.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 20));</span>
<span class="nc" id="L233">		btnPurchase.setBounds(50, 426, 290, 46);</span>
<span class="nc" id="L234">		frame.getContentPane().add(btnPurchase);</span>

<span class="nc" id="L236">		JButton btnRemoveFromCart = new JButton(&quot;Remove from Cart&quot;);</span>
<span class="nc" id="L237">		btnRemoveFromCart.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L238">		btnRemoveFromCart.setBounds(50, 392, 290, 25);</span>
<span class="nc" id="L239">		frame.getContentPane().add(btnRemoveFromCart);</span>
<span class="nc" id="L240">		btnRemoveFromCart.setEnabled(false);</span>

<span class="nc" id="L242">		DefaultListModel&lt;Item&gt; listModel = new DefaultListModel();</span>
<span class="nc" id="L243">		JScrollPane scrollPaneItems = new JScrollPane();</span>
<span class="nc" id="L244">		scrollPaneItems.setSize(290, 220);</span>
<span class="nc" id="L245">		scrollPaneItems.setLocation(50, 161);</span>
<span class="nc" id="L246">		frame.getContentPane().add(scrollPaneItems);</span>
<span class="nc" id="L247">		JList listItems = new JList(listModel);</span>
<span class="nc" id="L248">		listItems.setBackground(UIManager.getColor(&quot;Menu.background&quot;));</span>
<span class="nc" id="L249">		scrollPaneItems.setBorder(new CompoundBorder(new TitledBorder(UIManager.getBorder(&quot;TitledBorder.border&quot;), &quot;&quot;,</span>
<span class="nc" id="L250">				TitledBorder.LEADING, TitledBorder.TOP, null, new Color(0, 0, 0)), new EmptyBorder(10, 10, 10, 10)));</span>
<span class="nc" id="L251">		scrollPaneItems.setViewportView(listItems);</span>
<span class="nc" id="L252">		listItems.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L253">		listItems.addListSelectionListener(new ListSelectionListener() {</span>
			public void valueChanged(ListSelectionEvent arg0) {
<span class="nc" id="L255">				btnRemoveFromCart.setEnabled(true);</span>
<span class="nc" id="L256">			}</span>
		});

<span class="nc" id="L259">		JLabel lblTotalCost = new JLabel(&quot;Total Cost:&quot;);</span>
<span class="nc" id="L260">		lblTotalCost.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 16));</span>
<span class="nc" id="L261">		lblTotalCost.setBounds(410, 420, 152, 33);</span>
<span class="nc" id="L262">		frame.getContentPane().add(lblTotalCost);</span>

<span class="nc" id="L264">		JLabel lblTotalCostValue = new JLabel(Integer.toString(totalCost));</span>
<span class="nc" id="L265">		lblTotalCostValue.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 18));</span>
<span class="nc" id="L266">		lblTotalCostValue.setBounds(574, 420, 168, 33);</span>
<span class="nc" id="L267">		frame.getContentPane().add(lblTotalCostValue);</span>

<span class="nc" id="L269">		JLabel lblMoney = new JLabel(Integer.toString(game.getCrew().getMoney()));</span>
<span class="nc" id="L270">		lblMoney.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 18));</span>
<span class="nc" id="L271">		lblMoney.setBounds(574, 450, 168, 33);</span>
<span class="nc" id="L272">		frame.getContentPane().add(lblMoney);</span>

<span class="nc" id="L274">		JLabel lblWarning = new JLabel(&quot;&quot;);</span>
<span class="nc" id="L275">		lblWarning.setBounds(50, 474, 290, 24);</span>
<span class="nc" id="L276">		frame.getContentPane().add(lblWarning);</span>

<span class="nc" id="L278">		JSeparator separatorTop = new JSeparator();</span>
<span class="nc" id="L279">		separatorTop.setBounds(50, 62, 695, 2);</span>
<span class="nc" id="L280">		frame.getContentPane().add(separatorTop);</span>

<span class="nc" id="L282">		JSeparator separatorBottom = new JSeparator();</span>
<span class="nc" id="L283">		separatorBottom.setBounds(50, 503, 695, 2);</span>
<span class="nc" id="L284">		frame.getContentPane().add(separatorBottom);</span>

<span class="nc" id="L286">		comboBoxItems.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent arg0) {
<span class="nc" id="L288">				Item currentItem = (Item) comboBoxItems.getSelectedItem();</span>
<span class="nc" id="L289">				descriptionArea.setText(currentItem.getDescription());</span>
<span class="nc" id="L290">				lblItemName.setText(currentItem.getName());</span>
<span class="nc" id="L291">				lblItemPrice.setText(Integer.toString(currentItem.getPrice()));</span>
<span class="nc" id="L292">				lblItemCount.setText(Integer.toString(itemFrequency.get(currentItem)));</span>
<span class="nc bnc" id="L293" title="All 2 branches missed.">				if (itemFrequency.get(currentItem) == 0) {</span>
<span class="nc" id="L294">					btnAddCart.setEnabled(false);</span>
<span class="nc" id="L295">				} else {</span>
<span class="nc" id="L296">					btnAddCart.setEnabled(true);</span>
				}
<span class="nc" id="L298">			}</span>
		});

<span class="nc" id="L301">		btnAddCart.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent arg0) {

<span class="nc" id="L304">				listModel.addElement((Item) comboBoxItems.getSelectedItem());</span>
<span class="nc" id="L305">				itemFrequency.replace((Item) comboBoxItems.getSelectedItem(),</span>
<span class="nc" id="L306">						itemFrequency.get(comboBoxItems.getSelectedItem()) - 1);</span>
<span class="nc" id="L307">				totalCost += ((Item) comboBoxItems.getSelectedItem()).getPrice();</span>
<span class="nc" id="L308">				lblTotalCostValue.setText(Integer.toString(totalCost));</span>
<span class="nc bnc" id="L309" title="All 2 branches missed.">				if (itemFrequency.get(comboBoxItems.getSelectedItem()) &lt;= 0) {</span>
<span class="nc" id="L310">					btnAddCart.setEnabled(false);</span>
<span class="nc" id="L311">				} else {</span>
<span class="nc" id="L312">					btnAddCart.setEnabled(true);</span>
				}
<span class="nc bnc" id="L314" title="All 4 branches missed.">				if (listModel.getSize() &lt;= 0 || listItems.isSelectionEmpty()) {</span>
<span class="nc" id="L315">					btnRemoveFromCart.setEnabled(false);</span>
<span class="nc" id="L316">				} else {</span>
<span class="nc" id="L317">					btnRemoveFromCart.setEnabled(true);</span>
				}
<span class="nc" id="L319">			}</span>
		});

<span class="nc" id="L322">		btnRemoveFromCart.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent e) {
<span class="nc" id="L324">				itemFrequency.replace((Item) comboBoxItems.getSelectedItem(),</span>
<span class="nc" id="L325">						itemFrequency.get(comboBoxItems.getSelectedItem()) + 1);</span>
<span class="nc" id="L326">				btnAddCart.setEnabled(true);</span>
<span class="nc" id="L327">				totalCost -= ((Item) listItems.getSelectedValue()).getPrice();</span>
<span class="nc" id="L328">				listModel.removeElement(listItems.getSelectedValue());</span>
<span class="nc" id="L329">				lblTotalCostValue.setText(Integer.toString(totalCost));</span>
<span class="nc bnc" id="L330" title="All 4 branches missed.">				if (listModel.getSize() &lt;= 0 || listItems.isSelectionEmpty()) {</span>
<span class="nc" id="L331">					btnRemoveFromCart.setEnabled(false);</span>
<span class="nc" id="L332">				} else {</span>
<span class="nc" id="L333">					btnRemoveFromCart.setEnabled(true);</span>
				}
<span class="nc" id="L335">			}</span>
		});

<span class="nc" id="L338">		btnPurchase.addActionListener(new ActionListener() {</span>
			public void actionPerformed(ActionEvent e) {
<span class="nc" id="L340">				SpaceOutpost currentSpaceOutpost = game.getCrew().getCurrentLocation().getOutpost();</span>
<span class="nc bnc" id="L341" title="All 2 branches missed.">				if (listModel.getSize() == 0) {</span>
<span class="nc" id="L342">					lblWarning.setText(&quot;There are no items to purchase!&quot;);</span>
<span class="nc bnc" id="L343" title="All 2 branches missed.">				} else if (totalCost &lt;= game.getCrew().getMoney()) {</span>
<span class="nc bnc" id="L344" title="All 2 branches missed.">					for (int i = 0; i &lt; listItems.getModel().getSize(); i++) {</span>
<span class="nc bnc" id="L345" title="All 2 branches missed.">						if (listItems.getModel().getElementAt(i) instanceof MedicalItem) {</span>
<span class="nc" id="L346">							MedicalItem currentItem = (MedicalItem) listItems.getModel().getElementAt(i);</span>
<span class="nc" id="L347">							currentSpaceOutpost.purchaseMedicalItem(currentItem, game.getCrew());</span>
<span class="nc" id="L348">						} else {</span>
<span class="nc" id="L349">							FoodItem currentItem = (FoodItem) listItems.getModel().getElementAt(i);</span>
<span class="nc" id="L350">							currentSpaceOutpost.purchaseFoodItem(currentItem, game.getCrew());</span>
						}
					}
<span class="nc" id="L353">					currentItem = (Item) comboBoxItems.getSelectedItem();</span>
<span class="nc" id="L354">					lblMoney.setText(Integer.toString(game.getCrew().getMoney()));</span>
<span class="nc" id="L355">					totalCost = 0;</span>
<span class="nc" id="L356">					lblTotalCostValue.setText(Integer.toString(totalCost));</span>
<span class="nc" id="L357">					listModel.clear();</span>
<span class="nc" id="L358">					lblItemCount.setText(Integer.toString(itemFrequency.get(currentItem)));</span>
<span class="nc" id="L359">					JOptionPane.showMessageDialog(frame, &quot;Items purchased!&quot;);</span>

<span class="nc" id="L361">				} else {</span>
<span class="nc" id="L362">					lblWarning.setText(&quot;Sorry, you do not have enough coins!&quot;);</span>
				}

<span class="nc" id="L365">			}</span>
		});

<span class="nc" id="L368">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span>space-explorer (23/05/2019 9:13:26 PM)</div></body></html>